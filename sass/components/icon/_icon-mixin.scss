
// 字体
@mixin make-icon-font-face($font-name, $font-path, $font-file, $version) {
    @font-face {
        font-family: '#{$font-name}';
        src: url('#{$font-path}/#{$font-file}.eot?v=#{$version}');
        src: url('#{$font-path}/#{$font-file}.eot?#iefix&v=#{$version}') format('embedded-opentype'),
             url('#{$font-path}/#{$font-file}.woff?v=#{$version}') format('woff'),
             url('#{$font-path}/#{$font-file}.ttf?v=#{$version}') format('truetype'),
             url('#{$font-path}/#{$font-file}.svg?v=#{$version}#regular') format('svg');
        font-weight: normal;
        font-style: normal;
    }
}

// 关联字体
@mixin make-icon-class($prefix, $font-family) {
    
    [class^="#{$prefix}-"],
    [class*=" #{$prefix}-"]{
        // use !important to prevent issues with browser extensions that change fonts
        // font-family: '#{$font-family}' !important;
        @include make-icon-class-icomoon($font-family); // 直接使用
    }
}

// icomoon 风格
@mixin make-icon-class-icomoon($font-family: false) {
    // use !important to prevent issues with browser extensions that change fonts
    @if $font-family { //实际上是不用的,这是只是为了保证完整性
        font-family: '#{$font-family}' !important;
    }
    speak: none;
    font-style: normal;
    font-weight: normal;
    font-variant: normal;
    text-transform: none;
    line-height: 1; //嵌入button内部时如果使用1.2会影响button的高度

    // Better Font Rendering
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    
    // 要支持 transform 需要设置
    display: inline-block;
    transform: translate(0, 0); // ensures no half-pixel rendering in firefox
}

// fontawesome 风格 (不用,只是做个参考)
@mixin make-icon-class-fontawesome($font-family) {
    display: inline-block;
    font-family: $font-family;
    font-style: normal;
    // font: normal normal normal 14px/1 $font-family; // shortening font declaration
    // font-size: inherit; // can't have font-size inherit on line above, so need to override
    text-rendering: auto; // optimizelegibility throws things off #1094
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transform: translate(0, 0); // ensures no half-pixel rendering in firefox
    speak: none;    // skip 
}

// inline样式

@mixin make-icon-inline() { // 行内ICON
    display: inline-block;
    position: relative;
    // text-align: left;
    height: 1em;
    width: 1.15em; // 近正方形, 会造成 after内元素的 宽度比高度大
}

// 一些特殊的ICON

@mixin make-icon-caret($color: #B3A9A9) { // 下三角
    border: .45em solid transparent;
    border-top-color: $color;
    position: absolute;
    top: 45%;
    content: '';
}

@mixin make-icon-right($color) { // 对号
    border: 2px solid transparent;
    border-left-color: $color;
    border-bottom-color: $color;
    position: absolute;
    width: 100%;
    height: 55%;
    top: 10%;
    min-height: 8px;
    content: '';
    @include transform (rotate(-55deg)) ;
}

@mixin make-icon-arrow($color) { // 下箭头
    border: 2px solid transparent;
    border-right-color: $color;
    border-bottom-color: $color;
    position: absolute;
    width: 70%;
    height: 70%;
    top: 10%;
    left: 10%;
    content: '';
    border-radius: 2px;
    transform: rotate(45deg);
    transition: all 0.3s;
}
